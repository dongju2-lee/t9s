# P9s - Terraform Infrastructure Manager

![P9s Logo](https://img.shields.io/badge/P9s-Terraform%20TUI-blue)
![Go Version](https://img.shields.io/badge/go-%3E%3D1.20-00ADD8)

**P9s**ëŠ” k9sì—ì„œ ì˜ê°ì„ ë°›ì€ Terraform ì¸í”„ë¼ ê´€ë¦¬ë¥¼ ìœ„í•œ í„°ë¯¸ë„ UI ë„êµ¬ì…ë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- ğŸ“ **ë””ë ‰í† ë¦¬ íƒìƒ‰**: Terraform ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ í•œëˆˆì— í™•ì¸
- ğŸ“Š **ìƒíƒœ ëª¨ë‹ˆí„°ë§**: ê° ë””ë ‰í† ë¦¬ì˜ ìƒíƒœ, ë§ˆì§€ë§‰ apply ì‹œê°„, drift ì—¬ë¶€ ì¶”ì 
- âœï¸ **tfvars í¸ì§‘**: ì§ê´€ì ì¸ UIë¡œ tfvars íŒŒì¼ í¸ì§‘
- ğŸ” **Git ë¹„êµ**: í˜„ì¬ ìƒíƒœì™€ Git ì €ì¥ì†Œì˜ ì°¨ì´ì  í™•ì¸
- ğŸ¯ **Helm ì¶”ì **: Terraformìœ¼ë¡œ ê´€ë¦¬ë˜ëŠ” Helm ì°¨íŠ¸ ë²„ì „ ëª¨ë‹ˆí„°ë§
- ğŸš€ **Plan/Apply**: ì•ˆì „í•œ ì‹¤í–‰ í™˜ê²½ì—ì„œ Terraform ëª…ë ¹ ì‹¤í–‰
- â˜ï¸ **Remote State**: S3 backend state ì¡°íšŒ ë° ê´€ë¦¬

## ğŸ“¦ ì„¤ì¹˜

### ë°©ë²• 1: ì†ŒìŠ¤ì—ì„œ ë¹Œë“œ

```bash
git clone https://github.com/idongju/p9s.git
cd p9s
go build -o p9s ./cmd/p9s
sudo mv p9s /usr/local/bin/
```

### ë°©ë²• 2: ê°„í¸ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸

```bash
./install.sh
```

## ğŸš€ ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‹¤í–‰

```bash
p9s
```

### ë²„ì „ í™•ì¸

```bash
p9s --version
```

## âŒ¨ï¸ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

### ì „ì—­ ë‹¨ì¶•í‚¤
- `â†‘/â†“` - ë””ë ‰í† ë¦¬ íƒìƒ‰
- `Enter` - ë””ë ‰í† ë¦¬ ì„ íƒ
- `q` - ì¢…ë£Œ
- `Ctrl+C` - ê°•ì œ ì¢…ë£Œ

### ë””ë ‰í† ë¦¬ ì‘ì—…
- `p` - Terraform Plan ì‹¤í–‰
- `a` - Terraform Apply ì‹¤í–‰
- `e` - tfvars í¸ì§‘
- `g` - Git diff ë³´ê¸°
- `s` - State ì •ë³´ ì¡°íšŒ
- `h` - Helm ì°¨íŠ¸ ëª©ë¡ ë³´ê¸°

### ìƒì„¸ ì‘ì—…
- `d` - ë””ë ‰í† ë¦¬ ìƒì„¸ ì •ë³´
- `l` - ë¡œê·¸ ë³´ê¸°
- `r` - ìƒˆë¡œê³ ì¹¨

## ğŸ—ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°

P9sëŠ” ë‹¤ìŒê³¼ ê°™ì€ Terraform ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ê°€ì •í•©ë‹ˆë‹¤:

```
terraform/
â”œâ”€â”€ s3-buckets/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ prod.tfvars
â”‚   â”‚   â””â”€â”€ dev.tfvars
â”‚   â”œâ”€â”€ main.tf
â”‚   â””â”€â”€ variables.tf
â”œâ”€â”€ eks-cluster/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ prod.tfvars
â”‚   â””â”€â”€ ...
â””â”€â”€ vpc-network/
    â””â”€â”€ ...
```

### ìš”êµ¬ì‚¬í•­

- **Remote Backend**: S3ë¥¼ ì‚¬ìš©í•œ Terraform state ì €ì¥
- **ë””ë ‰í† ë¦¬ êµ¬ì¡°**: ê° ì„œë¹„ìŠ¤ë³„ ë””ë ‰í† ë¦¬ ë¶„ë¦¬
- **Config ë””ë ‰í† ë¦¬**: ê° ë””ë ‰í† ë¦¬ ë‚´ `config/` í´ë”ì— tfvars íŒŒì¼ ìœ„ì¹˜

## ğŸ”§ ì„¤ì •

P9sëŠ” `~/.p9s/config.yaml` íŒŒì¼ì„ í†µí•´ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤:

```yaml
# Terraform ë£¨íŠ¸ ë””ë ‰í† ë¦¬
terraform_root: /path/to/terraform

# S3 Backend ì„¤ì •
backend:
  bucket: terraform-state
  region: ap-northeast-2
  
# ê¸°ë³¸ ì„¤ì •
defaults:
  auto_refresh: true
  refresh_interval: 60 # seconds
```

## ğŸ¨ UI ë¯¸ë¦¬ë³´ê¸°

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  P9s - Terraform Infrastructure Manager  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ ğŸ“ Terraform Directories â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€ ğŸ“‹ Details â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Directory         Status    Last Applyâ”‚                           â”‚
â”‚ s3-buckets        âœ“ Synced  2h ago    â”‚ Directory: s3-buckets     â”‚
â”‚ eks-cluster       âš  Drift   1d ago    â”‚ Status: âœ“ Synced          â”‚
â”‚ vpc-network       âœ“ Synced  3h ago    â”‚ Last Apply: 2h ago        â”‚
â”‚ rds-databases     âš  Drift   2d ago    â”‚                           â”‚
â”‚ lambda-functions  âœ“ Synced  5h ago    â”‚ Configuration:            â”‚
â”‚ helm-charts       ? Unknown N/A       â”‚   â€¢ Config: ./config/     â”‚
â”‚                                        â”‚   â€¢ Backend: s3://...     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â†‘â†“ Navigate  Enter Select  p Plan  a Apply  e Edit  g Git  q Quit
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## ğŸ› ï¸ ê°œë°œ ë¡œë“œë§µ

### v0.1.0 (Current)
- [x] ê¸°ë³¸ UI êµ¬ì¡°
- [x] ë””ë ‰í† ë¦¬ ëª©ë¡ í‘œì‹œ
- [x] í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤

### v0.2.0 (Next)
- [ ] Terraform ë””ë ‰í† ë¦¬ ìë™ ìŠ¤ìº”
- [ ] Git ìƒíƒœ í†µí•©
- [ ] Terraform state ì¡°íšŒ
- [ ] tfvars íŒŒì¼ í¸ì§‘ê¸°

### v0.3.0
- [ ] Terraform Plan ì‹¤í–‰ ë° ê²°ê³¼ í‘œì‹œ
- [ ] Terraform Apply ê¸°ëŠ¥
- [ ] Helm ì°¨íŠ¸ ë²„ì „ ì¶”ì 
- [ ] ì‹¤ì‹œê°„ drift ê°ì§€

### v0.4.0
- [ ] S3 Remote State ë™ê¸°í™”
- [ ] ë‹¤ì¤‘ ì‚¬ìš©ì ì‘ì—… ì¶”ì 
- [ ] ì‘ì—… ì´ë ¥ ë¡œê·¸
- [ ] ì„¤ì • íŒŒì¼ ì§€ì›

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

ì´ìŠˆ ë° PRì€ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ™ í¬ë ˆë”§

- [tview](https://github.com/rivo/tview) - Terminal UI framework
- [k9s](https://k9scli.io/) - ì˜ê°ì„ ì¤€ Kubernetes CLI
